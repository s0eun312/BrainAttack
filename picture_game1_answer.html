<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Brain Attack</title>
    <!--   í—¤ë” ìŠ¤íƒ€ì¼(ê³µí†µ)  -->
    <link href="headerCSS.css" rel="stylesheet">
    <!--  íŒíŠ¸  -->
    <link href="hint.css" rel="stylesheet">

    <style>
        body {
            /*background: #000;*/
            background-image: url(img/main_bg.png);
            background-repeat: no-repeat; /* ë°˜ë³µ X */
            background-position: center top; /* ì¤‘ì•™ ê¸°ì¤€ */
            background-size: cover; /* ì´ë¯¸ì§€ê°€ ì „ì²´ ì˜ì—­ì„ ì±„ìš°ë„ë¡ */
        }
        /*MAIN
        ==========================================================*/
        main {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        #contents {
            width: 100%;
            height: 100vh;
            background: rgba(0, 0, 0, 0.28);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            margin-top: 200px;
        }
        /* QUESTION */
        .question {
            color: #fff;
            font-size: 2rem;
            margin-bottom: 3rem;
        }
        .question span {
            color: chartreuse;
        }
        /* ANSWER */
        .answer {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .answer button {
            font-family: 'DungGeunMo', sans-serif;
        }
        .answer .row {
            display: flex;
            justify-content: center;
            margin-bottom: 2rem;
        }
        .answer .row button {
            width: 130px;
            height: 130px;
            border: none;
            border-radius: 50%;
            margin: 0 1rem;
            background: #ff6e41;
            color: #fff;
            font-size: 1.4rem;
            font-weight: bold;
        }
        .answer button:nth-child(1),
        .answer button:nth-child(6) {
            margin-left: 0;
        }
        .answer button:hover {
            background: rgba(65, 255, 160, 0.73);
        }
    </style>
</head>
<body>
<!-- HEADER
----------------------------------->
<header>
    <h1 class="header_title">
        <a href="index.html">
            Brain Attack <span>ğŸ§ ï¸ğŸ’¡</span>
        </a>
    </h1>
    <div class="btn">
        <button class="rule">ê²Œì„ ë°©ë²•</button>
        <button class="out">ë‚˜ê°€ê¸°</button>
    </div>
</header>
<!-- MAIN
----------------------------------->
<main>
    <div id="contents">
        <h2 class="question">Q. 3ë²ˆì§¸ ì¹´ë“œ ì† <span>ê³¼ì¼ì˜ ì¢…ë¥˜</span>ëŠ” ë¬´ì—‡ì´ì—ˆì„ê¹Œìš”?</h2>
        <div id="answerBtn" class="answer">
            <div class="row">
                <button class="wrong">ë”¸ê¸°</button>
                <button class="wrong">í‚¤ìœ„</button>
                <button class="wrong">ë ˆëª¬</button>
                <button class="wrong">ë°”ë‚˜ë‚˜</button>
                <button class="correct">ì²´ë¦¬</button>
            </div>
            <div class="row">
                <button class="wrong">ì•„ë³´ì¹´ë„</button>
                <button class="wrong">ìˆ˜ë°•</button>
                <button class="wrong">ì˜¤ë Œì§€</button>
                <button class="wrong">ì‚¬ê³¼</button>
                <button class="wrong">í¬ë„</button>
            </div>
        </div>
    </div>

    <div class="hint_content">
        <article class="hint">
            ì ê°ˆìƒ‰ì˜ ì´ ê³¼ì¼ì€ ë²šë‚˜ë¬´ì˜ ì—´ë§¤ì—ìš”!
        </article>
        <button class="hint_btn">HINT</button>
    </div>
</main>

<script src="hint.js"></script>
<script>
    // í—¤ë” ë²„íŠ¼
    let rule = document.querySelector('.rule');
    let out = document.querySelector('.out');

    rule.addEventListener("click", function() {
        changePage("picture_index.html");
    })
    out.addEventListener("click", function() {
        changePage("index.html");
    })
    // í˜ì´ì§€ì „í™˜ í˜ì´ë“œì•„ì›ƒ íš¨ê³¼
    function changePage(page) {
        document.body.classList.add("fadeOut"); // í˜ì´ì§€ fadeOut ì• ë‹ˆë©”ì´ì…˜ í´ë˜ìŠ¤ ì¶”ê°€
        setTimeout(function() {
            window.location.href = page; // í˜ì´ì§€ ë³€ê²½
        }, 500); // 0.5ì´ˆ í›„ì— í˜ì´ì§€ ë³€ê²½
    }

    // ì •ë‹µ ê³ ë¥´ê¸° ----------------------- !!
    // ì •ë‹µ ê³ ë¥´ê¸° ì´ë²¤íŠ¸ ìœ„í•œ ì„ì˜ í•¨ìˆ˜ ClickButton ìƒì„±
    function ClickButton(buttons) {
        buttons.forEach((button) => {
            button.addEventListener("click", (event) => {
                // ë§Œì•½ í´ë¦­í•œ íƒ€ê²Ÿì´ correct í´ë˜ìŠ¤ë¥¼ í¬í•¨í•˜ê³  ìˆìœ¼ë©´
                if (event.target.classList.contains('correct')) {
                    // ë‹¤ìŒ ê²Œì„ í˜ì´ì§€ ì´ë™
                    window.location.href = "picture_game2.html";
                } else {
                    // ì•„ë‹ˆë¼ë©´ ê²Œì„ì˜¤ë²„ í˜ì´ì§€ ì´ë™
                    changePage("gameover.html");
                }
            });
        });
    }

    // ëœë¤ìœ¼ë¡œ ë²„íŠ¼ ì¬ë°°ì¹˜ ----------------------- !!
    function shuffleButtons() {
        // ë‹µë³€ ë²„íŠ¼ë“¤ì´ ë“¤ì–´ìˆëŠ” ì»¨í…Œì´ë„ˆë¥¼ ê°€ì ¸ì˜´
        const rows = document.querySelectorAll('.row');
        // ì»¨í…Œì´ë„ˆ ë‚´ ëª¨ë“  ë²„íŠ¼ ìš”ì†Œë¥¼ ë°°ì—´ë¡œ ë³€í™˜
        // const buttons = Array.from(rows.getElementsByTagName('button'));
        const buttons = [];

        // ê° í–‰(row)ì—ì„œ ë²„íŠ¼ë“¤ì„ ê°€ì ¸ì™€ì„œ ë°°ì—´ë¡œ ë³€í™˜ í›„ buttons ë°°ì—´ì— ì¶”ê°€
        rows.forEach(row => {
            // ... (spread ì—°ì‚°ì) : ë°°ì—´ì„ ê°œë³„ ìš”ì†Œë¡œ í¼ì³ì„œ push ë©”ì„œë“œì— ì „ë‹¬
            // Array.from : ìœ ì‚¬ ë°°ì—´ ê°ì²´ë‚˜ ì´í„°ëŸ¬ë¸” ê°ì²´ë¥¼ ì–•ê²Œ ë³µì‚¬í•´ ìƒˆë¡œìš´ ë°°ì—´ ê°ì²´ ìƒì„±
            buttons.push(...Array.from(row.getElementsByTagName('button')));
        });

        // Fisher-Yates ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ì—¬ ë°°ì—´ì„ ì„ìŒ
        // Fisher-Yates: ì£¼ì–´ì§„ ë°°ì—´ì„ ë¬´ì‘ìœ„ë¡œ ì„ëŠ” ì•Œê³ ë¦¬ì¦˜
        // [Fisher-Yates ì‘ë™ ì›ë¦¬]
        // 1. ë°°ì—´ì˜ ë§ˆì§€ë§‰ ìš”ì†Œë¶€í„° ì‹œì‘í•˜ì—¬ ì²˜ìŒ ìš”ì†Œê¹Œì§€ ê±°ê¾¸ë¡œ ë°˜ë³µ
        // 2. ê° ë°˜ë³µì—ì„œ í˜„ì¬ ìš”ì†Œë¥¼ ë°°ì—´ì˜ ì•ìª½ì—ì„œ ë¬´ì‘ìœ„ë¡œ ì„ íƒëœ ìš”ì†Œì™€ êµí™˜
        // 3. ì´ëŸ¬í•œ ê³¼ì •ì„ ì²˜ìŒ ìš”ì†Œì— ë„ë‹¬í•  ë•Œê¹Œì§€ ë°˜ë³µ
        for (let i = buttons.length - 1; i > 0; i--) {
            // 0ë¶€í„° iê¹Œì§€ì˜ ì„ì˜ì˜ ì¸ë±ìŠ¤ë¥¼ ì„ íƒ
            const j = Math.floor(Math.random() * (i + 1));
            // ë²„íŠ¼ ìš”ì†Œì˜ ìœ„ì¹˜ë¥¼ êµí™˜
            [buttons[i], buttons[j]] = [buttons[j], buttons[i]];
        }

        // ê° í–‰(row)ì˜ ê¸°ì¡´ ë‚´ìš©(ë²„íŠ¼ ìˆœì„œ)ì„ ì§€ì›€
        rows.forEach(row => row.innerHTML = '');
        // ì„ì¸ ë²„íŠ¼ì„ ë‹¤ì‹œ ê° í–‰(row)ì— ì¶”ê°€
        buttons.slice(0, 5).forEach(button => rows[0].appendChild(button));
        buttons.slice(5).forEach(button => rows[1].appendChild(button));
        // ë²„íŠ¼ í´ë¦­ ClickButton í•¨ìˆ˜ ë‹¤ì‹œ ì„¤ì •
        ClickButton(buttons);
    }

    // í˜ì´ì§€ ë¡œë“œ ì‹œ ë²„íŠ¼ ì…”í”Œ ì‹¤í–‰
    window.onload = shuffleButtons;
</script>
</body>
</html>